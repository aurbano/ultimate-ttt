{"version":3,"sources":["../../src/tests/TicTacToe.test.js"],"names":["validateBoard","board","t","true","Array","isArray","forEach","row","cell","tic","is","move","deepEqual","throws","player","notThrows","repeat","boardFinished","prettyPrint","winner"],"mappings":"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","file":"TicTacToe.test.js","sourcesContent":["import test from 'ava';\n\nimport TicTacToe from '../model/TicTacToe';\nimport errors from '../errors';\n\nfunction validateBoard(board, t){\n  t.true(Array.isArray(board));\n\n  board.forEach((row) => {\n    t.true(Array.isArray(row));\n    row.forEach((cell) => {\n      t.true(cell >= 0);\n      t.true(cell <= 2);\n    });\n  });\n}\n\ntest('Returns a valid TicTacToe model', t => {\n  const tic = new TicTacToe();\n\n  t.is(typeof(tic), 'object');\n  t.is(typeof(tic.move), 'function');\n  validateBoard(tic.board, t);\n});\n\ntest('Move correctly updates the board', t => {\n  const tic = new TicTacToe();\n\n  tic.move(1, [0, 0]);\n  tic.move(2, [2, 1]);\n\n  t.deepEqual(tic.board, [\n    [1, 0, 0],\n    [0, 0, 0],\n    [0, 2, 0]\n  ]);\n});\n\ntest('Move rejects invalid player', t => {\n  const tic = new TicTacToe();\n\n  t.throws(() => {tic.move(-1, 1)}, errors.player);\n  t.throws(() => {tic.move('abc', 1)}, errors.player);\n  t.throws(() => {tic.move(0, 1)}, errors.player);\n  t.throws(() => {tic.move(3, 1)}, errors.player);\n});\n\ntest('Move rejects invalid moves', t => {\n  const tic = new TicTacToe();\n\n  t.throws(() => {tic.move(1)}, errors.move);\n  t.throws(() => {tic.move(1, 1)}, errors.move);\n  t.throws(() => {tic.move(1, 'abc')}, errors.move);\n  t.throws(() => {tic.move(1, [])}, errors.move);\n  t.throws(() => {tic.move(1, [1])}, errors.move);\n  t.throws(() => {tic.move(1, [1, 4])}, errors.move);\n  t.throws(() => {tic.move(1, [-1, 4])}, errors.move);\n  t.throws(() => {tic.move(1, [1, 1, 1])}, errors.move);\n});\n\ntest('Move rejects repeated moves', t => {\n  const tic = new TicTacToe();\n\n  t.notThrows(() => {tic.move(1, [1, 1])});\n  t.throws(() => {tic.move(1, [1, 1])}, errors.repeat);\n});\n\ntest('Move rejects moves after finishing the game', t => {\n  const tic = new TicTacToe();\n\n  t.notThrows(() => {tic.move(1, [0, 0])});\n  t.notThrows(() => {tic.move(2, [0, 1])});\n  t.notThrows(() => {tic.move(1, [0, 2])});\n  t.notThrows(() => {tic.move(2, [1, 0])});\n  t.notThrows(() => {tic.move(2, [1, 1])});\n  t.notThrows(() => {tic.move(1, [1, 2])});\n  t.notThrows(() => {tic.move(1, [2, 0])});\n  t.notThrows(() => {tic.move(1, [2, 1])});\n  t.notThrows(() => {tic.move(2, [2, 2])});\n\n  t.throws(() => {tic.move(2, [1, 1])}, errors.boardFinished);\n});\n\ntest('Can pretty print a board', t => {\n  const tic = new TicTacToe();\n\n  t.notThrows(() => {\n    tic.prettyPrint();\n  });\n});\n\ntest('Detect winning row', t => {\n  const tic = new TicTacToe();\n\n  t.notThrows(() => {tic.move(1, [0, 0])});\n  t.notThrows(() => {tic.move(2, [1, 1])});\n  t.notThrows(() => {tic.move(1, [0, 2])});\n  t.notThrows(() => {tic.move(2, [1, 0])});\n  t.notThrows(() => {tic.move(1, [0, 1])});\n\n  t.is(tic.winner, 1);\n});\n\ntest('Detect winning column', t => {\n  const tic = new TicTacToe();\n\n  t.notThrows(() => {tic.move(1, [0, 0])});\n  t.notThrows(() => {tic.move(2, [1, 1])});\n  t.notThrows(() => {tic.move(1, [2, 0])});\n  t.notThrows(() => {tic.move(2, [0, 1])});\n  t.notThrows(() => {tic.move(1, [1, 0])});\n\n  t.is(tic.winner, 1);\n});\n\ntest('Detect winning RtL diagonal', t => {\n  const tic = new TicTacToe();\n\n  t.notThrows(() => {tic.move(1, [0, 0])});\n  t.notThrows(() => {tic.move(2, [2, 1])});\n  t.notThrows(() => {tic.move(1, [1, 1])});\n  t.notThrows(() => {tic.move(2, [2, 0])});\n  t.notThrows(() => {tic.move(1, [2, 2])});\n\n  t.is(tic.winner, 1);\n});\n\ntest('Detect winning LtR diagonal', t => {\n  const tic = new TicTacToe();\n\n  t.notThrows(() => {tic.move(1, [2, 0])});\n  t.notThrows(() => {tic.move(2, [2, 1])});\n  t.notThrows(() => {tic.move(1, [1, 1])});\n  t.notThrows(() => {tic.move(2, [1, 0])});\n  t.notThrows(() => {tic.move(1, [0, 2])});\n\n  t.is(tic.winner, 1);\n});"]}